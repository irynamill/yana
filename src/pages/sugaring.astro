---
// Fundation
import BaseLayout from "@/layouts/BaseLayout.astro";
// Assets
import { Image } from "astro:assets";
import sugaringHero from "@/images/still-life-glittery-composition-decoration.jpg";
import afterOne from "@/images/b-after.jpeg";
import beforeOne from "@/images/b-before.jpeg";
import afterTwo from "@/images/legs-after.jpg";
import beforeTwo from "@/images/legs-before.jpg";
import afterThree from "@/images/b-after.jpeg"; // exchange with p-before
import beforeThree from "@/images/b-before.jpeg";
// Fundations
import Text from "@/components/fundations/elements/Text.astro";
import Wrapper from "@/components/fundations/containers/Wrapper.astro";

export const prerender = false;
const lang = Astro.url.searchParams.get("lang") ?? "en";
const translations = {
  en: {
    heroTitle:
      "Sugaring in Munich. Gentle hair removal, smooth skin, and calm care with intent.",
    bookSlot: "Book a slot",
    viewPricing: "View pricing",
    aboutLabel: "About me",
    aboutTitle:
      "Yana Smolnitchi. A calm, precise approach to sugaring that keeps skin smooth and clients comfortable.",
    aboutBody:
      "I focus on gentle technique, clean ingredients, and a quiet, elevated studio experience. Every appointment is tailored to your skin and comfort level.",
    pricingLabel: "Services and pricing",
    pricingTitle: "Clear pricing for the most requested services.",
    services: [
      { label: "Full legs", price: "€65" },
      { label: "Lower legs", price: "€45" },
      { label: "Bikini", price: "€35" },
      { label: "Brazilian", price: "€55" },
      { label: "Underarms", price: "€25" },
    ],
    pricingNote:
      "Final price may vary by area and hair length. Ask for a custom quote. All prices include VAT unless stated otherwise.",
    cancelNote:
      "Please cancel at least 24 hours in advance to avoid a late cancellation fee.",
    reviewsLabel: "Reviews",
    reviewsTitle: "Clients return for gentle technique and lasting results.",
    reviews: [
      "Beautiful space, very gentle technique, and smooth results for weeks.",
      "Professional, calm, and precise. I always feel comfortable here.",
      "Best sugaring experience in Munich. Clean, quick, and caring.",
    ],
    beforeAfterLabel: "Before / After",
    beforeAfterTitle:
      "Subtle, clean results. Smooth skin with a natural finish.",
    faqLabel: "FAQ",
    faqTitle: "Common questions about sugaring.",
    faq: [
      {
        q: "How long should hair be?",
        a: "About a grain of rice length. Usually 2–3 weeks of growth.",
      },
      {
        q: "Is sugaring painful?",
        a: "Most clients find it gentler than waxing, especially with regular visits.",
      },
      {
        q: "How long do results last?",
        a: "Typically 3–5 weeks depending on hair growth cycle.",
      },
      {
        q: "Can I book online?",
        a: "Yes, use the booking button to reserve your slot.",
      },
    ],
    contactLabel: "Contact",
    contactTitle: "Book online or reach out for questions.",
    mapNotice: "Map is disabled until you accept cookies.",
    enableMap: "Enable map",
    locationLabel: "Location",
    contactCard: "Contact",
    hoursLabel: "Hours",
    hours: "Tue - Sat, 10:00 - 19:00",
  },
  de: {
    heroTitle:
      "Sugaring in München. Sanfte Haarentfernung, glatte Haut und ruhige Pflege mit Anspruch.",
    bookSlot: "Termin buchen",
    viewPricing: "Preise ansehen",
    aboutLabel: "Über mich",
    aboutTitle:
      "Yana Smolnitchi. Ein ruhiger, präziser Ansatz für glatte Haut und entspannte Kundinnen.",
    aboutBody:
      "Ich arbeite mit sanfter Technik, sauberen Produkten und einer ruhigen Studio-Atmosphäre. Jede Behandlung ist auf Haut und Komfort abgestimmt.",
    pricingLabel: "Leistungen & Preise",
    pricingTitle: "Klare Preise für die beliebtesten Behandlungen.",
    services: [
      { label: "Beine komplett", price: "€65" },
      { label: "Unterschenkel", price: "€45" },
      { label: "Bikini", price: "€35" },
      { label: "Brazilian", price: "€55" },
      { label: "Achseln", price: "€25" },
    ],
    pricingNote:
      "Der Endpreis kann je nach Bereich und Haarlänge variieren. Fragen Sie nach einem Angebot. Alle Preise inkl. MwSt., sofern nicht anders angegeben.",
    cancelNote:
      "Bitte mindestens 24 Stunden vorher absagen, sonst fällt eine Ausfallgebühr an.",
    reviewsLabel: "Bewertungen",
    reviewsTitle: "Kundinnen kommen wegen der sanften Technik gerne wieder.",
    reviews: [
      "Wunderschöner Raum, sehr sanfte Technik und wochenlang glatte Haut.",
      "Professionell, ruhig und präzise. Ich fühle mich immer wohl.",
      "Beste Sugaring-Erfahrung in München. Sauber, schnell, fürsorglich.",
    ],
    beforeAfterLabel: "Vorher / Nachher",
    beforeAfterTitle:
      "Dezente, saubere Ergebnisse. Glatte Haut mit natürlichem Finish.",
    faqLabel: "FAQ",
    faqTitle: "Häufige Fragen zum Sugaring.",
    faq: [
      {
        q: "Wie lang sollten die Haare sein?",
        a: "Etwa Reiskornlänge. Meist 2–3 Wochen Wachstum.",
      },
      {
        q: "Ist Sugaring schmerzhaft?",
        a: "Viele empfinden es als sanfter als Waxing, besonders bei regelmäßigen Terminen.",
      },
      {
        q: "Wie lange halten die Ergebnisse?",
        a: "In der Regel 3–5 Wochen, je nach Haarwuchs.",
      },
      {
        q: "Kann ich online buchen?",
        a: "Ja, nutzen Sie die Buchung, um Ihren Termin zu reservieren.",
      },
    ],
    contactLabel: "Kontakt",
    contactTitle: "Online buchen oder Kontakt aufnehmen.",
    mapNotice: "Die Karte ist deaktiviert, bis Cookies akzeptiert werden.",
    enableMap: "Karte laden",
    locationLabel: "Adresse",
    contactCard: "Kontakt",
    hoursLabel: "Öffnungszeiten",
    hours: "Di - Sa, 10:00 - 19:00",
  },
  ru: {
    heroTitle:
      "Шугаринг в Мюнхене. Бережное удаление волос, гладкая кожа и спокойный уход.",
    bookSlot: "Записаться",
    viewPricing: "Смотреть цены",
    aboutLabel: "Обо мне",
    aboutTitle:
      "Яна Смольнички. Спокойный и точный подход для гладкой кожи и комфорта клиента.",
    aboutBody:
      "Мягкая техника, чистые материалы и спокойная атмосфера студии. Каждая процедура подбирается под вашу кожу и комфорт.",
    pricingLabel: "Услуги и цены",
    pricingTitle: "Понятные цены на самые популярные услуги.",
    services: [
      { label: "Ноги полностью", price: "€65" },
      { label: "Голени", price: "€45" },
      { label: "Бикини", price: "€35" },
      { label: "Глубокое бикини", price: "€55" },
      { label: "Подмышки", price: "€25" },
    ],
    pricingNote:
      "Итоговая цена может зависеть от зоны и длины волос. Уточните стоимость. Все цены включают НДС, если не указано иначе.",
    cancelNote:
      "Пожалуйста, отменяйте запись минимум за 24 часа, чтобы избежать штрафа.",
    reviewsLabel: "Отзывы",
    reviewsTitle: "Клиенты возвращаются за мягкой техникой и результатом.",
    reviews: [
      "Очень уютно, мягкая техника и гладкость на недели.",
      "Профессионально, спокойно и точно. Всегда комфортно.",
      "Лучший шугаринг в Мюнхене. Чисто, быстро, заботливо.",
    ],
    beforeAfterLabel: "До / После",
    beforeAfterTitle: "Аккуратный результат и гладкая кожа.",
    faqLabel: "FAQ",
    faqTitle: "Частые вопросы о шугаринге.",
    faq: [
      {
        q: "Какая длина волос нужна?",
        a: "Примерно с рисовое зерно. Обычно 2–3 недели роста.",
      },
      {
        q: "Больно ли это?",
        a: "Чаще всего ощущается мягче, чем воск, особенно при регулярных процедурах.",
      },
      {
        q: "Как долго держится эффект?",
        a: "Обычно 3–5 недель в зависимости от роста волос.",
      },
      {
        q: "Можно ли записаться онлайн?",
        a: "Да, используйте кнопку записи, чтобы выбрать время.",
      },
    ],
    contactLabel: "Контакты",
    contactTitle: "Запись онлайн или вопросы по контактам.",
    mapNotice: "Карта недоступна без согласия на cookies.",
    enableMap: "Показать карту",
    locationLabel: "Адрес",
    contactCard: "Связь",
    hoursLabel: "Часы",
    hours: "Вт - Сб, 10:00 - 19:00",
  },
  uk: {
    heroTitle:
      "Шугаринг у Мюнхені. Делікатне видалення волосся, гладка шкіра та спокійний догляд.",
    bookSlot: "Записатися",
    viewPricing: "Дивитися ціни",
    aboutLabel: "Про мене",
    aboutTitle:
      "Яна Смольніцькі. Спокійний і точний підхід для гладкої шкіри та комфорту клієнта.",
    aboutBody:
      "М’яка техніка, чисті матеріали та спокійна атмосфера студії. Кожна процедура підлаштована під вашу шкіру та комфорт.",
    pricingLabel: "Послуги та ціни",
    pricingTitle: "Зрозумілі ціни на найпопулярніші послуги.",
    services: [
      { label: "Ноги повністю", price: "€65" },
      { label: "Гомілки", price: "€45" },
      { label: "Бікіні", price: "€35" },
      { label: "Бразильське бікіні", price: "€55" },
      { label: "Пахви", price: "€25" },
    ],
    pricingNote:
      "Кінцева ціна може залежати від зони та довжини волосся. Уточніть вартість. Усі ціни з ПДВ, якщо не зазначено інакше.",
    cancelNote:
      "Будь ласка, скасовуйте запис щонайменше за 24 години, щоб уникнути штрафу.",
    reviewsLabel: "Відгуки",
    reviewsTitle: "Клієнти повертаються за м’яку техніку та результат.",
    reviews: [
      "Дуже затишно, м’яка техніка і гладкість на тижні.",
      "Професійно, спокійно і точно. Завжди комфортно.",
      "Найкращий шугаринг у Мюнхені. Чисто, швидко, турботливо.",
    ],
    beforeAfterLabel: "До / Після",
    beforeAfterTitle: "Акуратний результат та гладка шкіра.",
    faqLabel: "FAQ",
    faqTitle: "Часті питання про шугаринг.",
    faq: [
      {
        q: "Яка потрібна довжина волосся?",
        a: "Приблизно як рисове зерно. Зазвичай 2–3 тижні росту.",
      },
      {
        q: "Чи боляче це?",
        a: "Часто м’якше, ніж віск, особливо при регулярних процедурах.",
      },
      {
        q: "Скільки тримається ефект?",
        a: "Зазвичай 3–5 тижнів, залежно від росту волосся.",
      },
      {
        q: "Чи можна записатися онлайн?",
        a: "Так, скористайтеся кнопкою, щоб обрати час.",
      },
    ],
    contactLabel: "Контакти",
    contactTitle: "Запис онлайн або питання через контакти.",
    mapNotice: "Карта недоступна без згоди на cookies.",
    enableMap: "Показати карту",
    locationLabel: "Адреса",
    contactCard: "Зв’язок",
    hoursLabel: "Години",
    hours: "Вт - Сб, 10:00 - 19:00",
  },
};
const t = (key) => translations[lang]?.[key] ?? translations.en[key];
---

<BaseLayout>
  <section>
    <Wrapper variant="standard" class="pb-8 pt-16 lg:pt-56">
      <div class="grid grid-cols-1 lg:grid-cols-4 items-start gap-y-8 lg:gap-x-10 lg:items-center">
        <div class="lg:col-span-2 flex flex-col lg:justify-center">
          <Image
            src={sugaringHero}
            alt="Sugaring treatment in a calm studio setting"
            class="size-full aspect-4/5 rounded-2xl object-cover object-center lg:aspect-4/3"
            loading="lazy"
            decoding="async"
          />
        </div>
        <div class="lg:col-span-2">
          <Text
            tag="h1"
            variant="displayLG"
            class="font-semibold leading-tight text-left tracking-tighter text-base-900 dark:text-white"
          >
          {t("heroTitle")}
          </Text>
          <div class="mt-6 flex flex-col gap-3">
            <a
              href="https://www.treatwell.de/ort/jana-lab-sugaring/"
              class="group inline-flex w-full items-center justify-center gap-3 rounded-2xl bg-base-900 px-5 py-4 text-xs font-semibold uppercase tracking-[2px] text-white transition-all hover:bg-base-800 dark:bg-base-100 dark:text-base-950 dark:hover:bg-base-200"
              target="_blank"
              rel="noreferrer"
            >
              {t("bookSlot")}
              <span class="inline-block h-3.5 w-3.5 transition-transform group-hover:translate-x-1"
                >→</span
              >
            </a>
            <a
              href={`/sugaring?lang=${lang}#pricing`}
              class="group inline-flex w-full items-center justify-center gap-3 rounded-2xl border border-base-300 px-5 py-4 text-xs font-semibold uppercase tracking-[2px] text-base-900 transition-all hover:border-base-900 hover:bg-base-900 hover:text-white dark:border-base-700 dark:text-white dark:hover:border-base-300 dark:hover:bg-base-300 dark:hover:text-base-950"
            >
              {t("viewPricing")}
              <span class="inline-block h-3.5 w-3.5 transition-transform group-hover:translate-x-1"
                >→</span
              >
            </a>
          </div>
        </div>
      </div>
    </Wrapper>
  </section>

  <section id="about">
    <Wrapper variant="standard" class="py-12 lg:py-24">
      <div class="grid grid-cols-1 lg:grid-cols-4 items-start gap-y-8">
        <Text tag="p" variant="textSM" class="text-base-600 dark:text-base-300">
          [ {t("aboutLabel")} ]
        </Text>
        <Text
          tag="h2"
          variant="displayMD"
          class="font-semibold leading-tight text-left tracking-tighter lg:col-span-3 text-base-900 dark:text-white"
        >
          {t("aboutTitle")}
        </Text>

        <Text tag="p" variant="textSM" class="text-base-600 dark:text-base-300 lg:col-span-3 lg:col-start-2">
          {t("aboutBody")}
        </Text>

      </div>
    </Wrapper>
  </section>

  <section id="pricing">
    <Wrapper variant="standard" class="py-12 lg:py-24">
      <div class="grid grid-cols-1 lg:grid-cols-4 items-start gap-y-8">
        <Text tag="p" variant="textSM" class="text-base-600 dark:text-base-300">
          [ {t("pricingLabel")} ]
        </Text>
        <Text
          tag="h2"
          variant="displayMD"
          class="font-semibold leading-tight text-left tracking-tighter lg:col-span-3 text-base-900 dark:text-white"
        >
          {t("pricingTitle")}
        </Text>
        <div class="mt-10 divide-y divide-base-200 dark:divide-base-800 lg:col-span-3 lg:col-start-2">
          {t("services").map((item) => (
            <div class="flex items-center justify-between py-1">
              <Text tag="p" variant="textBase" class="text-base-900 dark:text-white">
                {item.label}
              </Text>
              <Text tag="p" variant="textBase" class="text-base-600 dark:text-base-300">
                {item.price}
              </Text>
            </div>
          ))}
          <Text
            tag="p"
            variant="textXS"
            class="pt-3 text-base-500 dark:text-base-400"
          >
            {t("pricingNote")}
          </Text>
          <Text
            tag="p"
            variant="textXS"
            class="pt-2 text-base-500 dark:text-base-400"
          >
            {t("cancelNote")}
          </Text>
        </div>
      </div>
    </Wrapper>
  </section>

  <section id="reviews">
    <Wrapper variant="standard" class="py-12 lg:py-24">
      <div class="grid grid-cols-1 lg:grid-cols-4 items-start gap-y-8">
        <Text tag="p" variant="textSM" class="text-base-600 dark:text-base-300">
          [ {t("reviewsLabel")} ]
        </Text>
        <Text
          tag="h2"
          variant="displayMD"
          class="font-semibold leading-tight text-left tracking-tighter lg:col-span-3 text-base-900 dark:text-white"
        >
          {t("reviewsTitle")}
        </Text>

        <div class="mt-10 grid grid-cols-1 gap-6 lg:grid-cols-3 lg:col-span-3 lg:col-start-2">
        {t("reviews").map((quote) => (
          <div class="rounded-2xl border border-base-200 p-6 dark:border-base-800">
            <Text tag="p" variant="textSM" class="text-base-600 dark:text-base-300">
              “{quote}”
            </Text>
          </div>
        ))}
      </div>

      </div>
    </Wrapper>
  </section>

  <section id="before-after">
    <Wrapper variant="standard" class="py-12 lg:py-24">
      <div class="grid grid-cols-1 lg:grid-cols-4 items-start gap-y-8">
        <Text tag="p" variant="textSM" class="text-base-600 dark:text-base-300">
          [ {t("beforeAfterLabel")} ]
        </Text>
        <Text
          tag="h2"
          variant="displayMD"
          class="font-semibold leading-tight text-left tracking-tighter lg:col-span-3 text-base-900 dark:text-white"
        >
          {t("beforeAfterTitle")}
        </Text>

        <div class="mt-10 grid grid-cols-1 gap-6 lg:grid-cols-3 lg:col-span-3 lg:col-start-2">
        {[
          { before: beforeOne, after: afterOne, label: t("beforeAfterLabel") },
          { before: beforeTwo, after: afterTwo, label: t("beforeAfterLabel") },
          { before: beforeThree, after: afterThree, label: t("beforeAfterLabel") },
        ].map((item, index) => (
          <div class="overflow-hidden rounded-2xl border border-base-200 dark:border-base-800">
            <div class="compare" style="--pos: 50%;">
              <Image
                src={item.before}
                alt={`Before image ${index + 1}`}
                class="h-56 w-full object-cover object-center"
                loading="lazy"
                decoding="async"
              />
              <Image
                src={item.after}
                alt={`After image ${index + 1}`}
                class="after h-56 w-full object-cover object-center"
                loading="lazy"
                decoding="async"
              />
              <div class="handle" aria-hidden="true"></div>
              <input
                class="slider"
                type="range"
                min="0"
                max="100"
                value="50"
                aria-label={`Before and after slider ${index + 1}`}
              />
            </div>
            <div class="px-4 py-3">
              <Text tag="p" variant="textXS" class="text-base-600 dark:text-base-300">
                {item.label}
              </Text>
            </div>
          </div>
        ))}
      </div>

      </div>
    </Wrapper>
  </section>

  <section id="faq">
    <Wrapper variant="standard" class="py-12 lg:py-24">
      <div class="grid grid-cols-1 lg:grid-cols-4 items-start gap-y-8">
        <Text tag="p" variant="textSM" class="text-base-600 dark:text-base-300">
          [ {t("faqLabel")} ]
        </Text>
        <Text
          tag="h2"
          variant="displayMD"
          class="font-semibold leading-tight text-left tracking-tighter lg:col-span-3 text-base-900 dark:text-white"
        >
          {t("faqTitle")}
        </Text>

        <div class="mt-10 grid grid-cols-1 gap-2 lg:grid-cols-2 lg:col-span-3 lg:col-start-2">
        {t("faq").map((item) => (
          <details class="group rounded-2xl border border-base-200 p-4 dark:border-base-800">
            <summary class="cursor-pointer list-none">
              <div class="flex items-center justify-between gap-4">
                <Text
                  tag="h3"
                  variant="textLG"
                  class="font-semibold text-base-900 dark:text-white"
                >
                  {item.q}
                </Text>
                <span class="text-base-500 transition-transform group-open:rotate-45 dark:text-base-400">
                  +
                </span>
              </div>
            </summary>
            <Text
              tag="p"
              variant="textSM"
              class="mt-3 text-base-600 dark:text-base-300"
            >
              {item.a}
            </Text>
          </details>
        ))}
      </div>

      </div>
    </Wrapper>
  </section>

  <section id="contact">
    <Wrapper variant="standard" class="py-12 lg:py-24">
      <div class="grid grid-cols-1 lg:grid-cols-4 items-start gap-y-8">
        <Text tag="p" variant="textSM" class="text-base-600 dark:text-base-300">
          [ {t("contactLabel")} ]
        </Text>
        <Text
          tag="h2"
          variant="displayMD"
          class="font-semibold leading-tight text-left tracking-tighter lg:col-span-3 text-base-900 dark:text-white"
        >
          {t("contactTitle")}
        </Text>
        
        <div class="mt-10 grid grid-cols-1 gap-6 lg:grid-cols-3 lg:col-span-3 lg:col-start-2">
        <div class="lg:col-span-2">
          <div
            class="overflow-hidden rounded-2xl border border-base-200 dark:border-base-800"
            data-consent-embed
            data-embed-src="https://www.openstreetmap.org/export/embed.html?bbox=11.5743659%2C48.1094231%2C11.5823659%2C48.1134231&amp;layer=mapnik&amp;marker=48.1114231%2C11.5783659"
          >
            <div class="flex h-72 w-full items-center justify-center bg-base-100 px-6 text-center text-sm text-base-600 dark:bg-base-900 dark:text-base-300">
              <div class="flex flex-col gap-3">
                <p>{t("mapNotice")}</p>
                <button
                  class="rounded-2xl border border-base-300 px-4 py-2 text-xs font-semibold uppercase tracking-[2px] text-base-900 transition-colors hover:border-base-900 dark:border-base-700 dark:text-white dark:hover:border-base-300"
                  type="button"
                  data-consent-open
                >
                  {t("enableMap")}
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="flex flex-col gap-6">
          <div class="rounded-2xl border border-base-200 p-6 dark:border-base-800">
              <Text tag="h3" variant="textLG" class="font-semibold text-base-900 dark:text-white">
                {t("locationLabel")}
              </Text>
              <Text tag="p" variant="textSM" class="mt-2 text-base-600 dark:text-base-300">
                Wirtstraße 34a, Obergiesing, 81539 München
              </Text>
            </div>
          <div class="rounded-2xl border border-base-200 p-6 dark:border-base-800">
            <Text tag="h3" variant="textLG" class="font-semibold text-base-900 dark:text-white">
              {t("contactCard")}
            </Text>
            <div class="mt-3 flex flex-col gap-3">
              <a
                href="https://wa.me/XXXXXXXXXXX"
                class="text-sm font-semibold uppercase tracking-[2px] text-base-900 underline decoration-base-300 underline-offset-4 dark:text-white dark:decoration-base-700"
              >
                WhatsApp
              </a>
              <a
                href="https://www.instagram.com/sugaring_by_jana/"
                class="text-sm font-semibold uppercase tracking-[2px] text-base-900 underline decoration-base-300 underline-offset-4 dark:text-white dark:decoration-base-700"
              >
                Instagram
              </a>
            </div>
          </div>
        </div>
      </div>
        
      </div>
    </Wrapper>
  </section>
</BaseLayout>

<style>
  .compare {
    position: relative;
    background: #f5f5f5;
  }
  .compare .after {
    position: absolute;
    inset: 0;
    clip-path: inset(0 0 0 var(--pos));
  }
  .compare .handle {
    position: absolute;
    top: 0;
    bottom: 0;
    left: var(--pos);
    width: 2px;
    transform: translateX(-1px);
    background: rgba(0, 0, 0, 0.5);
  }
  .compare .handle::after {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    width: 24px;
    height: 24px;
    border-radius: 999px;
    transform: translate(-50%, -50%);
    border: 1px solid rgba(0, 0, 0, 0.5);
    background: rgba(255, 255, 255, 0.85);
  }
  .compare .slider {
    position: absolute;
    inset: 0;
    width: 100%;
    opacity: 0;
    cursor: ew-resize;
  }
</style>

<script>
  document.querySelectorAll(".compare").forEach((container) => {
    const slider = container.querySelector(".slider");
    const setPos = (value) => {
      container.style.setProperty("--pos", `${value}%`);
    };
    setPos(slider?.value || 50);
    slider?.addEventListener("input", (event) => {
      setPos(event.target.value);
    });
  });
</script>
